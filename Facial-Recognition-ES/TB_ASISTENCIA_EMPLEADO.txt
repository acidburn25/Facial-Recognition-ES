CREATE TABLE ASISTENCIA_EMPLEADO (
    NUM_ID		     INT AUTO_INCREMENT NOT NULL,
    DNI			     INT(8) NOT NULL,
    FECHA_ASISTENCIA	     DATE,
    HORA_ASISTENCIA	     VARCHAR (12),
    TIPO_MARCACION           VARCHAR (1),
    PRIMARY KEY (NUM_ID),
    FOREIGN KEY (DNI) REFERENCES empleados_eagles_safety(DNI)
)


DELIMITER $$
CREATE DEFINER=`root`@`localhost` PROCEDURE `ASISTENCIA_EMPLEADO_ESTADO`(IN `DNI_EMPLEADO` INT(8))
BEGIN
    SELECT
        MAX(A1.NUM_ID),
        (SELECT A.TIPO_MARCACION FROM ASISTENCIA_EMPLEADO A WHERE A.NUM_ID = MAX(A1.NUM_ID)),
        DATE(SYSDATE())
FROM
    ASISTENCIA_EMPLEADO A1
WHERE
    A1.FECHA_ASISTENCIA = DATE(SYSDATE())
    AND A1.DNI = DNI_EMPLEADO
;
END$$
DELIMITER ;

pip install PyMySQL